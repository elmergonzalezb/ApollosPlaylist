{"ast":null,"code":"var _jsxFileName = \"/Users/shashwatsingh/Desktop/work/apollos-playlist/react-web-client/src/modules/create-playlist/CreatePlaylist.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Modal, Form, Col } from 'react-bootstrap';\nimport autoBind from 'react-autobind';\nimport { TRACK_ATTRIBUTES } from './constants';\nimport Loading from '../../common/components/Loading';\nimport { getTracksFromAttributes, createUserPlaylistWithTracks } from '../../common/apiUtils';\nimport { _getTempoRange } from './helpers';\nimport { connect } from 'react-redux';\nimport SongTable from '../playlist-details/subcomponents/SongTable';\nimport './create-playlist.css';\n\nclass CreatePlaylist extends Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state = {\n      showCreatePlaylistModal: false,\n      playlistName: '',\n      loading: false,\n      tracks: null,\n      energy: 0.5,\n      danceability: 0.5,\n      acousticness: 0.5,\n      tempo: 160\n    };\n  }\n\n  handleSliderChange(event) {\n    let _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleGetTracks() {\n    let _this$state = this.state,\n        energy = _this$state.energy,\n        danceability = _this$state.danceability,\n        tempo = _this$state.tempo,\n        acousticness = _this$state.acousticness;\n    this.setState({\n      loading: true\n    });\n    let attributes = {\n      energy,\n      danceability,\n      acousticness,\n      tempo: _getTempoRange(tempo)\n    };\n    getTracksFromAttributes(attributes).then(response => {\n      this.setState({\n        loading: false,\n        tracks: response.data\n      });\n    });\n  }\n\n  handleTextInput(event) {\n    this.setState({\n      playlistName: event.target.value\n    });\n  }\n\n  handleCreatePlaylistModal() {\n    this.setState({\n      showCreatePlaylistModal: true\n    });\n  }\n\n  handleCloseModal() {\n    this.setState({\n      showCreatePlaylistModal: false\n    });\n  }\n\n  createPlaylistHandler() {\n    this.setState({\n      loading: true\n    });\n    createUserPlaylistWithTracks(this.props.currentUser.id, this.state.playlistName, this.state.tracks).then(response => {\n      window.location = '/#/my-playlists';\n    });\n  }\n\n  renderCreatePlaylistModal() {\n    return React.createElement(Modal, {\n      show: this.state.showCreatePlaylistModal,\n      onHide: this.handleCloseModal,\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Create New Playlist\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"What do you want to name this playlist?\"), React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"Playlist Name\",\n      className: \"m-3 p-3\",\n      style: {\n        width: '90%'\n      },\n      value: this.state.playlistName,\n      onChange: this.handleTextInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"md\",\n      variant: \"outline-primary\",\n      className: \"ml-1\",\n      onClick: this.handleCloseModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      size: \"md\",\n      variant: \"outline-primary\",\n      className: \"ml-1\",\n      onClick: this.createPlaylistHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Create Playlist\")));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.tracks !== null) {\n      return React.createElement(\"div\", {\n        className: \"create-playlist-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.renderCreatePlaylistModal(), React.createElement(\"div\", {\n        className: \"custom-card m-3 p-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(SongTable, {\n        tracks: this.state.tracks,\n        handleSongSelection: () => console.log('testing'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"center-content m-3 p-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"lg\",\n        variant: \"outline-primary\",\n        onClick: this.handleCreatePlaylistModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Create Playlist\")));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"create-playlist-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"custom-card m-3 p-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"ml-12 center-content\",\n      id: \"create-playlist-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"What attributes would you want your playlist to have?\")), React.createElement(\"div\", {\n      className: \"custom-card m-3 p-3 energy-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"ml-12 center-content\",\n      id: \"create-playlist-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Energy\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: TRACK_ATTRIBUTES.ENERGY,\n      className: \"custom-range\",\n      type: \"range\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      defaultValue: 0.5,\n      onChange: this.handleSliderChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"custom-card m-3 p-3 danceability-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"ml-12 center-content\",\n      id: \"create-playlist-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Danceability\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: TRACK_ATTRIBUTES.DANCEABILITY,\n      className: \"custom-range\",\n      type: \"range\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      defaultValue: 0.5,\n      onChange: this.handleSliderChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"custom-card m-3 p-3 acousticness-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"ml-12 center-content\",\n      id: \"create-playlist-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Acousticness\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: TRACK_ATTRIBUTES.ACOUSTICNESS,\n      className: \"custom-range\",\n      type: \"range\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      defaultValue: 0.5,\n      onChange: this.handleSliderChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"custom-card m-3 p-3 tempo-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"ml-12 center-content\",\n      id: \"create-playlist-question\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Tempo\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: TRACK_ATTRIBUTES.TEMPO,\n      className: \"custom-range\",\n      type: \"range\",\n      min: 40,\n      max: 225,\n      step: 1,\n      defaultValue: 132.5,\n      onChange: this.handleSliderChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"m-3 p-3 center-content get-tracks-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"lg\",\n      variant: \"outline-primary\",\n      onClick: this.handleGetTracks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Get Tracks\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.user\n});\n\nconst mapDispatchToProps = dispatch => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatePlaylist);","map":{"version":3,"sources":["/Users/shashwatsingh/Desktop/work/apollos-playlist/react-web-client/src/modules/create-playlist/CreatePlaylist.jsx"],"names":["React","Component","Button","Modal","Form","Col","autoBind","TRACK_ATTRIBUTES","Loading","getTracksFromAttributes","createUserPlaylistWithTracks","_getTempoRange","connect","SongTable","CreatePlaylist","constructor","props","state","showCreatePlaylistModal","playlistName","loading","tracks","energy","danceability","acousticness","tempo","handleSliderChange","event","target","name","value","setState","handleGetTracks","attributes","then","response","data","handleTextInput","handleCreatePlaylistModal","handleCloseModal","createPlaylistHandler","currentUser","id","window","location","renderCreatePlaylistModal","width","render","console","log","ENERGY","DANCEABILITY","ACOUSTICNESS","TEMPO","mapStateToProps","user","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Modal, Form, Col } from 'react-bootstrap';\nimport autoBind from 'react-autobind';\nimport { TRACK_ATTRIBUTES } from './constants';\nimport Loading from '../../common/components/Loading';\nimport { getTracksFromAttributes, createUserPlaylistWithTracks } from '../../common/apiUtils';\nimport { _getTempoRange } from './helpers';\nimport { connect } from 'react-redux';\nimport SongTable from '../playlist-details/subcomponents/SongTable';\nimport './create-playlist.css';\n\nclass CreatePlaylist extends Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      showCreatePlaylistModal: false,\n      playlistName: '',\n      loading: false,\n      tracks: null,\n      energy: 0.5,\n      danceability: 0.5,\n      acousticness: 0.5,\n      tempo: 160,\n    };\n  }\n\n  handleSliderChange(event) {\n    let { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleGetTracks() {\n    let { energy, danceability, tempo, acousticness } = this.state;\n    this.setState({ loading: true });\n\n    let attributes = {\n      energy,\n      danceability,\n      acousticness,\n      tempo: _getTempoRange(tempo),\n    };\n\n    getTracksFromAttributes(attributes).then(response => {\n      this.setState({\n        loading: false,\n        tracks: response.data,\n      });\n    });\n  }\n\n  handleTextInput(event) {\n    this.setState({ playlistName: event.target.value });\n  }\n\n  handleCreatePlaylistModal() {\n    this.setState({ showCreatePlaylistModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({\n      showCreatePlaylistModal: false,\n    });\n  }\n\n  createPlaylistHandler() {\n    this.setState({ loading: true });\n    createUserPlaylistWithTracks(this.props.currentUser.id, this.state.playlistName, this.state.tracks).then(\n      response => {\n        window.location = '/#/my-playlists';\n      },\n    );\n  }\n\n  renderCreatePlaylistModal() {\n    return (\n      <Modal show={this.state.showCreatePlaylistModal} onHide={this.handleCloseModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Create New Playlist</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>What do you want to name this playlist?</Modal.Body>\n        <Form.Control\n          type=\"text\"\n          name=\"Playlist Name\"\n          className=\"m-3 p-3\"\n          style={{ width: '90%' }}\n          value={this.state.playlistName}\n          onChange={this.handleTextInput}\n        />\n        <Modal.Footer>\n          <Button size=\"md\" variant=\"outline-primary\" className=\"ml-1\" onClick={this.handleCloseModal}>\n            Close\n          </Button>\n          <Button size=\"md\" variant=\"outline-primary\" className=\"ml-1\" onClick={this.createPlaylistHandler}>\n            Create Playlist\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n\n  render() {\n    if (this.state.loading) {\n      return <Loading />;\n    }\n\n    if (this.state.tracks !== null) {\n      return (\n        <div className=\"create-playlist-container\">\n          {this.renderCreatePlaylistModal()}\n          <div className=\"custom-card m-3 p-3\">\n            <Col xs={12}>\n              <SongTable tracks={this.state.tracks} handleSongSelection={() => console.log('testing')} />\n            </Col>\n          </div>\n          <div className=\"center-content m-3 p-3\">\n            <Button size=\"lg\" variant=\"outline-primary\" onClick={this.handleCreatePlaylistModal}>\n              Create Playlist\n            </Button>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"create-playlist-container\">\n        <div className=\"custom-card m-3 p-3\">\n          <h4 className=\"ml-12 center-content\" id=\"create-playlist-question\">What attributes would you want your playlist to have?</h4>\n        </div>\n        <div className=\"custom-card m-3 p-3 energy-container\">\n          <h4 className=\"ml-12 center-content\" id=\"create-playlist-question\">Energy</h4>\n          <br />\n          <input\n            name={TRACK_ATTRIBUTES.ENERGY}\n            className=\"custom-range\"\n            type=\"range\"\n            min={0}\n            max={1}\n            step={0.01}\n            defaultValue={0.5}\n            onChange={this.handleSliderChange}\n          />\n        </div>\n\n        <div className=\"custom-card m-3 p-3 danceability-container\">\n          <h4 className=\"ml-12 center-content\" id=\"create-playlist-question\">Danceability</h4>\n          <br />\n          <input\n            name={TRACK_ATTRIBUTES.DANCEABILITY}\n            className=\"custom-range\"\n            type=\"range\"\n            min={0}\n            max={1}\n            step={0.01}\n            defaultValue={0.5}\n            onChange={this.handleSliderChange}\n          />\n        </div>\n\n        <div className=\"custom-card m-3 p-3 acousticness-container\">\n          <h4 className=\"ml-12 center-content\" id=\"create-playlist-question\">Acousticness</h4>\n          <br />\n          <input\n            name={TRACK_ATTRIBUTES.ACOUSTICNESS}\n            className=\"custom-range\"\n            type=\"range\"\n            min={0}\n            max={1}\n            step={0.01}\n            defaultValue={0.5}\n            onChange={this.handleSliderChange}\n          />\n        </div>\n\n        <div className=\"custom-card m-3 p-3 tempo-container\">\n          <h4 className=\"ml-12 center-content\" id=\"create-playlist-question\">Tempo</h4>\n          <br />\n          <input\n            name={TRACK_ATTRIBUTES.TEMPO}\n            className=\"custom-range\"\n            type=\"range\"\n            min={40}\n            max={225}\n            step={1}\n            defaultValue={132.5}\n            onChange={this.handleSliderChange}\n          />\n        </div>\n\n        <div className=\"m-3 p-3 center-content get-tracks-container\">\n          <Button size=\"lg\" variant=\"outline-primary\" onClick={this.handleGetTracks}>\n            Get Tracks\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentUser: state.user,\n});\n\nconst mapDispatchToProps = dispatch => ({});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CreatePlaylist);\n"]},"metadata":{},"sourceType":"module"}